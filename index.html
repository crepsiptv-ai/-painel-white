<!DOCTYPE html>
<html>
<head>
  <title>Cota√ß√£o WHITE (Solu√ß√£o Definitiva)</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; }
    .box { padding: 15px; margin: 10px 0; background: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .price { font-size: 1.5em; margin: 8px 0; }
    .error { color: #c00; }
  </style>
</head>
<body>
  <h1>Cota√ß√£o WHITE</h1>

  <div class="box">
    <h3>Gate.io (Spot)</h3>
    <div class="price" id="gate">...</div>
  </div>

  <div class="box">
    <h3>MEXC (Futuros)</h3>
    <div class="price" id="mexc">...</div>
  </div>

  <script>
    // PROXY UNIVERSAL (funciona em redes bloqueadas)
    const proxy = 'https://api.allorigins.win/raw?url=';

    // 1. GATE.IO com proxy
    fetch(proxy + encodeURIComponent('https://api.gate.io/api/v4/spot/tickers?currency_pair=WHITE_USDT'))
      .then(r => r.json())
      .then(data => {
        if (data[0]?.last) {
          document.getElementById('gate').textContent = parseFloat(data[0].last).toFixed(6) + ' USDT';
        } else {
          document.getElementById('gate').innerHTML = '<span class="error">‚ùå N√£o listado</span>';
        }
      })
      .catch(() => {
        document.getElementById('gate').innerHTML = '<span class="error">üåê Rede bloqueada</span>';
      });

    // 2. MEXC com proxy
    fetch(proxy + encodeURIComponent('https://contract.mexc.com/api/v1/contract/ticker/WHITE_USDT'))
      .then(r => r.json())
      .then(data => {
        if (data.success && data.data?.lastPrice) {
          document.getElementById('mexc').textContent = parseFloat(data.data.lastPrice).toFixed(6) + ' USDT';
        } else {
          document.getElementById('mexc').innerHTML = '<span class="error">‚ùå N√£o listado</span>';
        }
      })
      .catch(() => {
        document.getElementById('mexc').innerHTML = '<span class="error">üåê Rede bloqueada</span>';
      });
  </script>
</body>
</html>
